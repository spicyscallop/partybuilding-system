import{f as l,h as e}from"./api-8a4baccf.js";import{_ as t,Z as a,v as s,o as i,c as r,w as d,y as o,b as n,z as c,A as f,V as u,a as h,t as g,W as x,g as y,r as b,F as p}from"./index-2c4a18b7.js";const m={components:{},data:()=>({activityList:a([]),honorList:a([]),allHours:a(30)}),created(){this.listBranchActivities(),this.listPartyHonors()},methods:{listBranchActivities(){let e=this;l().then((l=>{if(e.activityList=[],"success"==l.error_message){e.activityList=l.activities;for(const l of e.activityList)l.activityStartTime=l.activityStartTime.split(" ")[0]}else this.$message({message:l.error_message,type:"error",duration:3e3})}))},listPartyHonors(){let l=this;e().then((e=>{if(l.honorList=[],"success"==e.error_message){l.honorList=e.honors;for(const e of l.honorList)e.honorTime=e.honorTime.split(" ")[0]}else this.$message({message:e.error_message,type:"error",duration:3e3})}))}}},k=h("div",{class:"d-flex flex-row justify-space-between"},[h("h1",{class:"ml-5 mt-4 text-h6"},"年度学时展板")],-1),_={class:"d-flex justify-center align-center mb-5",style:{"background-color":"#eeeeee","border-radius":"55px",height:"110px",width:"110px","text-align":"center","vertical-align":"center"}},w={style:{"background-color":"#d9d9d9","border-radius":"40px",height:"80px",width:"80px","line-height":"80px","font-weight":"800","font-size":"24px"}},v=h("label",{style:{"font-size":"18px"}},"年度要求学时",-1),L={class:"d-flex justify-center align-center mb-6",style:{"background-color":"#eeeeee","border-radius":"55px",height:"110px",width:"110px","text-align":"center","vertical-align":"center"}},j={style:{"background-color":"#d9d9d9","border-radius":"40px",height:"80px",width:"80px","line-height":"80px","font-weight":"800","font-size":"24px"}},z=h("label",{style:{"font-size":"18px"}},"年度剩余学时",-1),T=h("div",{class:"d-flex flex-row justify-space-between"},[h("h1",{class:"ml-5 mt-4 text-h6"},"支部活动参加情况")],-1),S={class:"d-flex justify-center align-center mb-5",style:{"background-color":"#eeeeee","border-radius":"55px",height:"110px",width:"110px","text-align":"center","vertical-align":"center"}},H={style:{"background-color":"#d9d9d9","border-radius":"40px",height:"80px",width:"80px","line-height":"80px","font-weight":"800","font-size":"24px"}},A=h("label",{style:{"font-size":"18px"}},"参加支部活动次数",-1),P={class:"d-flex justify-center align-center mb-6",style:{"background-color":"#eeeeee","border-radius":"55px",height:"110px",width:"110px","text-align":"center","vertical-align":"center"}},$={style:{"background-color":"#d9d9d9","border-radius":"40px",height:"80px",width:"80px","line-height":"80px","font-weight":"800","font-size":"24px"}},B=h("label",{style:{"font-size":"18px"}},"请假次数",-1),D={class:"d-flex justify-center align-center mb-6",style:{"background-color":"#eeeeee","border-radius":"55px",height:"110px",width:"110px","text-align":"center","vertical-align":"center"}},F={style:{"background-color":"#d9d9d9","border-radius":"40px",height:"80px",width:"80px","line-height":"80px","font-weight":"800","font-size":"24px"}},N=h("label",{style:{"font-size":"18px"}},"支部活动出勤率",-1),M=h("h1",{class:"ml-3 mt-4 text-h6"},"支部活动参加情况详情:",-1),U=h("thead",null,[h("tr",null,[h("th",{style:{"background-color":"#f5f5f5",color:"black"}}," 序号 "),h("th",{style:{"background-color":"#f5f5f5",color:"black",width:"130px"}}," 活动时间 "),h("th",{style:{"background-color":"#f5f5f5",color:"black"}}," 活动名称 "),h("th",{style:{"background-color":"#f5f5f5",color:"black"}}," 活动地点 "),h("th",{style:{"background-color":"#f5f5f5",color:"black",width:"100px"}}," 三会一课类型 "),h("th",{style:{"background-color":"#f5f5f5",color:"black",width:"90px"}}," 参加情况 "),h("th",{style:{"background-color":"#f5f5f5",color:"black"}}," 备注 ")])],-1),V={class:"blue-color"},W={class:"blue-color"},Z=h("h1",{class:"ml-3 mt-4 text-h6"},"党内荣誉获得情况:",-1),q=h("thead",null,[h("tr",{class:"text-center",style:{"background-color":"#f5f5f5"}},[h("th",{style:{"background-color":"#f5f5f5",color:"black"}}," 序号 "),h("th",{style:{"background-color":"#f5f5f5",color:"black",width:"130px"}}," 荣誉获得时间 "),h("th",{style:{"background-color":"#f5f5f5",color:"black"}}," 荣誉名称 "),h("th",{style:{"background-color":"#f5f5f5",color:"black"}}," 授予单位 "),h("th",{style:{"background-color":"#f5f5f5",color:"black",width:"120px"}}," 备注 ")])],-1),C=h("td",null,null,-1),E=h("td",null,null,-1),G=h("td",null,null,-1),I={class:"blue-color"},J={class:"blue-color"};const K=t(m,[["render",function(l,e,t,a,m,K){const O=s("SubpageTitle");return i(),r(o,{fluid:"",class:"ma-0 fill-height bg-white-lighten-3",style:{padding:"0 80px 0 100px"}},{default:d((()=>[n(f,null,{default:d((()=>[n(c,{class:"flex-shrink-1 flex-grow-0"},{default:d((()=>[n(f,null,{default:d((()=>[n(O,{text:"支部活动",icon:"mdi-calendar",onDrawerToggle:e[0]||(e[0]=e=>l.$emit("drawerToggle"))})])),_:1})])),_:1}),n(c,null,{default:d((()=>[n(f,{class:"fill-height d-flex",style:{width:"30%"}},{default:d((()=>[n(u,{rounded:"lg",class:"d-flex flex-column bg-grey-lighten-4",style:{width:"100%"}},{default:d((()=>[k,n(o,{class:"fill-height"},{default:d((()=>[n(c,{class:"fill-height"},{default:d((()=>[n(f,{class:"d-flex flex-column justify-center align-center pb-5"},{default:d((()=>[h("div",_,[h("div",w,g(m.allHours),1)]),v])),_:1}),n(f,{class:"d-flex flex-column justify-center align-center pb-5"},{default:d((()=>[h("div",L,[h("div",j,g(Math.max(0,m.allHours-m.activityList.filter((l=>"已参加"==l.attendStatus)).reduce(((l,e)=>l+e.activityDuringTime),0)/60)),1)]),z])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(f,{class:"fill-height d-flex",cols:"7"},{default:d((()=>[n(u,{rounded:"lg",class:"d-flex flex-column bg-grey-lighten-4",style:{width:"100%"}},{default:d((()=>[T,n(o,{class:"fill-height"},{default:d((()=>[n(c,{class:"fill-height"},{default:d((()=>[n(f,{class:"d-flex flex-column justify-center align-center pb-5"},{default:d((()=>[h("div",S,[h("div",H,g(m.activityList.length),1)]),A])),_:1}),n(f,{class:"d-flex flex-column justify-center align-center pb-5"},{default:d((()=>[h("div",P,[h("div",$,g(m.activityList.filter((l=>"请假"==l.attendStatus)).length),1)]),B])),_:1}),n(f,{class:"d-flex flex-column justify-center align-center pb-5"},{default:d((()=>[h("div",D,[h("div",F,g((100*m.activityList.filter((l=>"已参加"==l.attendStatus)).length/m.activityList.length).toFixed(0))+"% ",1)]),N])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(c,null,{default:d((()=>[n(u,{class:"d-flex flex-grow-1",rounded:"lg"},{default:d((()=>[n(f,null,{default:d((()=>[n(c,null,{default:d((()=>[M])),_:1})])),_:1})])),_:1})])),_:1}),n(c,null,{default:d((()=>[n(u,{class:"d-flex flex-grow-1 mx-2 mt-5 bg-grey-color",rounded:"lg"},{default:d((()=>[n(f,{class:"d-flex flex-grow-1 flex-column"},{default:d((()=>[n(c,{id:"data-table",class:"mx-3 flex-grow-1 flex-shrink-1 fill-height",style:{"flex-basis":"0"}},{default:d((()=>[n(f,{class:"pa-0"},{default:d((()=>[n(x,{"fixed-header":"",class:"bg-grey-color"},{default:d((()=>[U,h("tbody",null,[(i(!0),y(p,null,b(m.activityList,((l,e)=>(i(),y("tr",{key:e},[h("td",null,g(e),1),h("td",null,g(l.activityStartTime),1),h("td",null,g(l.activityName),1),h("td",null,g(l.activityPlace),1),h("td",null,g(l.activityType),1),h("td",null,g(l.attendStatus),1),h("td",V,g(l.remark),1)])))),128)),(i(!0),y(p,null,b(l.zbhd,(l=>(i(),y("tr",{key:l.id},[h("td",null,g(l.id),1),h("td",null,g(l.time),1),h("td",null,g(l.name),1),h("td",null,g(l.place),1),h("td",null,g(l.type),1),h("td",null,g(l.state),1),h("td",W,g(l.remark),1)])))),128))])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(c,null,{default:d((()=>[n(u,{class:"d-flex flex-grow-1 mt-2",rounded:"lg"},{default:d((()=>[n(f,{class:"d-flex flex-grow-1 flex-column"},{default:d((()=>[n(c,null,{default:d((()=>[Z])),_:1})])),_:1})])),_:1})])),_:1}),n(c,null,{default:d((()=>[n(u,{class:"d-flex flex-grow-1 mt-5 bg-grey-color",rounded:"lg"},{default:d((()=>[n(f,{class:"d-flex flex-grow-1 flex-column"},{default:d((()=>[n(c,{id:"data-table",class:"mx-3 flex-grow-1 flex-shrink-1 fill-height",style:{"flex-basis":"0"}},{default:d((()=>[n(f,{class:"pa-0"},{default:d((()=>[n(x,{"fixed-header":"",class:"bg-grey-lighten-4"},{default:d((()=>[q,h("tbody",null,[(i(!0),y(p,null,b(m.honorList,((l,e)=>(i(),y("tr",{key:e},[h("td",null,g(e),1),h("td",null,g(l.honorTime),1),h("td",null,g(l.honorName),1),h("td",null,g(l.grantUnit),1),C,E,G,h("td",I,g(l.remark),1)])))),128)),(i(!0),y(p,null,b(l.dnry,(l=>(i(),y("tr",{key:l.id},[h("td",null,g(l.id),1),h("td",null,g(l.time),1),h("td",null,g(l.name),1),h("td",null,g(l.from),1),h("td",J,g(l.remark),1)])))),128))])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),n(c,{style:{height:"50px"}})])),_:1})])),_:1})}]]);export{K as default};
